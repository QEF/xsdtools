!
! Copyright (C) 2001-2009 Quantum ESPRESSO group
! This file is distributed under the terms of the
! GNU General Public License. See the file `License'
! in the root directory of the present distribution,
! or http://www.gnu.org/copyleft/gpl.txt .
!
!
MODULE qes_types_module
  !
  ! Auto-generated code: don't edit this file
  !
  ! Quantum Espresso XSD namespace: {{schema.target_namespace}}
  !
  USE kinds, only: DP
  !
  IMPLICIT NONE
  !
  {% for type in sorted_complex_types %}
  TYPE :: {{type | type_name}}
    !
    CHARACTER(len=100) :: tagname
    LOGICAL  :: lwrite = .FALSE.
    LOGICAL  :: lread  = .FALSE.
    !
{%- for attr in type.attributes.values() %}
    {{ attr|fortran_type }} :: {{attr.local_name}}
  {%- if not attr %}
    LOGICAL :: {{attr.local_name}}_ispresent = .FALSE.
  {%- endif %}
{%- endfor %}

{%- if type.is_extension() %}
    {%- if type.base_type != None and type.base_type.is_complex() %}
       {%- for attr in type.base_type.attributes.values() %}
    {{ attr|fortran_type }} :: {{attr.local_name}}
           {%- if not attr.is_required() %}
    LOGICAL :: {{attr.local_name}}_ispresent = .FALSE.
           {%- endif %}
       {%- endfor %}
    {%- endif %}
    !
    {{ type.base_type|fortran_type }} :: {{type.name.replace('Type', '')}}
{%- endif %}
{%- if not type.has_simple_content() %}
{%- for element in type.content_type %}
{%- if (element.min_occurs==0) %}
    LOGICAL  :: {{element.local_name}}_ispresent = .FALSE.
{%- endif %}
{%- if (element.max_occurs==1) %}
    {%- if (element.is_qes_type) and (not element.xsd_type.is_simple() )%}
    TYPE({{ element|fortran_type }}) :: {{ element.local_name }}
    {%- else %}
    {{ element|fortran_type }} :: {{ element.local_name }}
    {%- endif %}
{%- else %}
    TYPE({{ element|fortran_type }}), DIMENSION(:), ALLOCATABLE :: {{ element|tag_name }}
    INTEGER   :: ndim_{{ element|tag_name }}
{%- endif %}
{%- endfor %}
{%- endif %}
    !
  END TYPE {{ type|fortran_type }}
  !
{%- endfor %}
  !
END MODULE qes_types_module
